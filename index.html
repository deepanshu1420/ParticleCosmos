<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Deepanshu's Digital Cosmos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="style.css">

    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
</head>
<body>

    <div id="ui">
        <div class="ui-header">
            Welcome to Deepanshu‚Äôs<br>Hand-Controlled Digital Cosmos
        </div>

        <div id="shape-name" class="shape-title">INITIALIZING...</div>
        <div class="version-text">PARTICLE ENGINE V10.0</div>
        
        <div>üëã Back Hand: Next Shape</div>
        <div>‚úä Punch: Zoom In</div>
        <div>‚úã Palm: Zoom Out</div>
        
        <div id="status-line">
            <span>STATUS:</span>
            <span id="gesture-indicator" class="status-idle">IDLE</span>
        </div>
    </div>

    <div id="overlay">
        <div id="start-screen" class="box" style="display:none;">
            <h1>Welcome to Deepanshu‚Äôs<br>Hand-Controlled Digital Cosmos</h1>
            
            <p>Turning Hand Movement into Living Particles</p>
            <p style="font-size: 13px; color: #aaa; margin-top: -10px;">Requires Webcam Access</p>
            
            <button onclick="startExperience()">START</button>
        </div>

        <div id="security-error" class="box" style="display:none;">
            <h1 style="color:red">‚ö†Ô∏è Security Restriction</h1>
            <p>Browsers block camera access on IP addresses like <br><span class="code-box" id="current-ip">...</span></p>
            <p>You must use <b>localhost</b>.</p>
            <button onclick="switchToLocalhost()">Fix URL Automatically</button>
        </div>

        <div id="loading" class="box" style="display:none;">
            <h1>Initializing...</h1>
            <p>Calibrating Sensors...</p>
        </div>
    </div>

    <video id="video-input" style="display:none"></video>

    <script src="script.js"></script>
</body>
</html>